# ~/.tmux.conf — Terminus (iOS) 向け設定

# プレフィックスを Ctrl+A に変更（iOS キーボードで押しやすい）
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# マウス操作有効（タップでペイン選択・スクロール）
set -g mouse on

# ペイン分割（直感的なキー）
bind | split-window -h -c "#{pane_current_path}"   # | で左右分割
bind - split-window -v -c "#{pane_current_path}"   # - で上下分割
unbind '"'
unbind %

# ペイン移動（Vim スタイル）
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# ペインリサイズ（繰り返し可能）
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# 設定リロード
bind r source-file ~/.tmux.conf \; display "設定を再読み込みしました"

# ウィンドウ番号を1始まりに
set -g base-index 1
setw -g pane-base-index 1

# ウィンドウ番号を詰める（閉じた後に自動採番）
set -g renumber-windows on

# 色設定（256色）
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",xterm-256color:Tc"
set -ga terminal-overrides ",tmux-256color:Tc"

# ヒストリ行数を増やす
set -g history-limit 10000

# ウィンドウ名を自動更新しない
setw -g automatic-rename off

# ステータスバー
set -g status-position bottom
set -g status-bg colour235
set -g status-fg colour136
set -g status-left "#[fg=colour232,bg=colour154,bold] #S #[default] "
set -g status-right "#[fg=colour136]%Y-%m-%d %H:%M"
set -g status-left-length 30
set -g status-right-length 30

# アクティブペインを明るくする
set -g pane-active-border-style fg=colour154

# コピーモードでviキーバインド
setw -g mode-keys vi
bind v copy-mode
bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi y send -X copy-selection-and-cancel

# 遅延を減らす（Esc入力の反応改善）
set -sg escape-time 10
